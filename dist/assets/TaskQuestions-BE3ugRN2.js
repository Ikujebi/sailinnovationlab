import{j as e,r}from"./index-MFkXzy34.js";import{a as b}from"./axios-Bo0ATomq.js";const j=({isOpen:n,onRequestClose:i,onConfirm:c})=>n?e.jsx("div",{className:"absolute top-0 left-1/2 transform -translate-x-1/2 mt-8 rounded-lg p-6",children:e.jsxs("div",{className:"relative w-auto max-w-lg p-4 mx-auto my-6 bg-white rounded-lg shadow-lg",children:[e.jsx("div",{className:"absolute top-0 right-0 p-2",children:e.jsx("button",{onClick:i,className:"text-gray-400 hover:text-gray-500",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})}),e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900",children:" Are you sure?"}),e.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"This action cannot be reversed. Once you submit, it cannot be reversed."}),e.jsxs("div",{className:"px-3 py-3 gap-6 sm:flex sm:flex-row-reverse sm:px-6",children:[e.jsx("button",{type:"button",className:"mt-3 mr-2 inline-flex w-full justify-center rounded-md bg-red-500 px-6 py-1.5 text-sm font-semibold text-gray-900 shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-600 ring-gray-300 hover:bg-red-700 sm:mt-0 sm:w-auto",children:"No"}),e.jsx("button",{type:"button",onClick:c,className:"mt-3 inline-flex w-full justify-center rounded-md bg-blue-500 px-6 py-1.5 text-sm font-semibold text-gray-900 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-600 shadow-sm ring-gray-300 hover:bg-blue-700 sm:mt-0 sm:w-auto",children:"Yes"})]})]})]})}):null,w=()=>{const[n,i]=r.useState([]),[c,y]=r.useState([]),[d,u]=r.useState(null),[l,p]=r.useState([]),x=e.jsxs("p",{children:["Write a paragraph explaining the importance of ",e.jsx("strong",{children:"HTML"})," in web development. Use ",e.jsx("em",{children:"italics"})," to emphasize key points and demonstrate ",e.jsx("code",{children:"<code>"})," elements for code snippets."]});r.useEffect(()=>{(async()=>{const s=sessionStorage.getItem("token");try{const a=(await b.get("https://ssmp-api.onrender.com/api/v1/tasks/getAllTask",{headers:{Authorization:`Bearer ${s}`,role:"ADMIN"}})).data.data.getAllTask;console.log("Fetched Task Data:",a),p(a)}catch(o){console.error("Error fetching task questions:",o)}})()},[]);const f=t=>{u(t);const s=[...n];s[t]=!0,i(s)},m=t=>{u(null);const s=[...n];s[t]=!1,i(s)},h=(t,s)=>{if(d!==null){const o=[...l];o[d].taskQuestion=e.jsx("p",{children:s}),p(o),m(t)}},g=t=>{u(t),f(t)};return e.jsx("div",{className:"flex h-[100vh] w-screen",children:e.jsx("div",{className:"p-8 max-w-[80%]",style:{backgroundColor:"#F4F7FE"},children:l.map((t,s)=>e.jsxs("div",{className:"mb-8",children:[e.jsxs("h2",{className:"text-2xl font-bold",children:["Task Submission: ",t.taskTitle]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("label",{className:"block text-base font-bold text-gray-700",children:"Task Question"}),c[s]?e.jsx("textarea",{value:l[s].taskQuestion.props.children,onChange:o=>{const a=o.target.value;h(s,a)}}):e.jsx("div",{className:"mt-2 text-gray-700",children:t.details})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("label",{className:"block text-base font-bold text-gray-700",children:"Enter Answers Below"}),c[s]?e.jsx("textarea",{value:l[s].taskQuestion.props.children,onChange:o=>{const a=o.target.value;h(s,a)}}):e.jsx("div",{className:"mt-2 text-gray-700",children:x.props.children[s]})]}),e.jsx("button",{type:"button",onClick:()=>g(s),className:"mt-4 px-4 py-2 text-sm font-medium text-white bg-yellow-500 rounded-md hover:bg-yellow-400 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-yellow-500 float-right",children:"Edit Question"}),n[s]&&e.jsx("div",{className:"overlay",onClick:()=>m(s)}),d===s&&e.jsx(j,{isOpen:n[s],onRequestClose:()=>m(s),onConfirm:()=>h(s,l[s].taskQuestion.props.children)})]},s))})})};export{w as default};
