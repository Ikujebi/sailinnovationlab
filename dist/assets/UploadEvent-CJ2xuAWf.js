import{r as d,j as e}from"./index-C_P-k2xR.js";import{a as u}from"./axios-Bo0ATomq.js";import{u as h}from"./useEventData-fXtsT9Y_.js";const r={width:"50vw",height:"2rem",border:"1px solid rgb(59, 130, 246)",padding:"5px",borderRadius:"5px"},s={fontSize:"1rem",fontWeight:"semi-bold"},g=()=>{const{eventDatas:m}=h(),[o,p]=d.useState({eventName:"",eventDescription:"",speaker:"",eventUrl:""}),[i,x]=d.useState(null),n=l=>{const{name:c,value:a}=l.target;p(t=>({...t,[c]:a}))},v=async l=>{if(l.preventDefault(),m.find(t=>t.eventName===o.eventName)){x("Event Name already exists.");return}const a=sessionStorage.getItem("token");console.log("toke37645tguyuf8iyy!!!",a);try{const t=await u.post("https://ssmp-api.onrender.com/api/v1/events/eventCreation",o,{headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"}});console.log(o),t.status===200?(console.log("Event created successfully!"),window.alert("Event created successfully!")):(console.log("Failed to create event."),window.alert("Failed to create event."))}catch(t){console.error("An error occurred:",t),window.alert(`An error occurred:${t}`)}console.log("https://ssmp-api.onrender.com/api/v1/"),console.log(o)};return e.jsx("div",{className:"flex",children:e.jsxs("div",{className:"mt-8 ml-[6rem]",children:[e.jsx("h1",{className:"font-bold text-2xl",children:"Upload Events"}),e.jsx("div",{className:"mt-[2rem]",children:e.jsxs("form",{onSubmit:v,children:[e.jsx("label",{htmlFor:"eventName",style:s,children:"Name of Event"})," ",e.jsx("br",{}),e.jsx("input",{type:"text",name:"eventName",id:"eventName",required:!0,style:r,onChange:n}),e.jsx("br",{})," ",e.jsx("br",{}),e.jsx("label",{htmlFor:"eventDescription",style:s,children:"Event Info"}),e.jsx("br",{}),e.jsx("input",{type:"text",name:"eventDescription",id:"eventDescription",required:!0,style:r,onChange:n}),e.jsx("br",{})," ",e.jsx("br",{}),e.jsx("label",{htmlFor:"speaker",style:s,children:"Speaker"}),e.jsx("br",{}),e.jsx("input",{type:"text",name:"speaker",id:"speaker",style:r,onChange:n}),e.jsx("br",{})," ",e.jsx("br",{}),e.jsx("label",{htmlFor:"eventDate",style:s,children:"Event Date"})," ",e.jsx("br",{}),e.jsx("input",{type:"date",name:"eventDate",onChange:n,id:"eventDate",style:r}),e.jsx("br",{}),e.jsx("br",{}),e.jsx("label",{htmlFor:"eventUrl",style:s,children:"Event Link"})," ",e.jsx("br",{}),e.jsx("input",{type:"text",onChange:n,name:"eventUrl",id:"eventUrl",style:r,required:!0}),e.jsx("br",{}),e.jsx("div",{className:"flex justify-center",children:i&&e.jsx("div",{style:{color:"red"},children:i})}),e.jsx("input",{type:"submit",value:"Upload Event",style:{height:"2rem",width:"8rem",backgroundColor:"rgb(59, 130, 246)",color:"white",marginTop:"1rem",borderRadius:"10px"}})]})})]})})};export{g as default};
