import{r as l,D as y,j as e,z as p,y as u,F as S,G as h}from"./index-C_P-k2xR.js";import{S as b}from"./SailInnovationLogo-Cdy1uYFH.js";import{F as c,R as w,C as n}from"./index-BtAKSDrM.js";import{I as g}from"./index-CC0-QH3K.js";import"./index-BGj9c3YX.js";const C=()=>{const[x,i]=l.useState(!1),[d,j]=l.useState({email:"",password:""}),a=y();l.useEffect(()=>{const t=sessionStorage.getItem("token"),s=sessionStorage.getItem("userRole");if(console.log(),t&&s){const o=s==="ADMIN",r=s==="USER";o&&a("/dashboard/details",{replace:!0}),r&&a("/user/dashboard/",{replace:!0})}},[a]);const f=async()=>{i(!0);try{const t=await fetch(`${S}signin`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(d)}),s=await t.json();if(t.ok){h.success(s.responseMessage,{duration:4e3,position:"top-center"});const o=s.data.token,r=s.data.role;sessionStorage.setItem("token",o),sessionStorage.setItem("userRole",r),r==="ADMIN"?a("/dashboard/details",{replace:!0}):r==="USER"&&a("/user/dashboard/",{replace:!0})}else h.error(s.responseMessage,{duration:4e3,position:"top-center"});i(!1)}catch(t){i(!1),console.log(t)}},m=t=>{const{name:s,value:o}=t.target;j(r=>({...r,[s]:o}))};return e.jsxs("div",{className:" grid-cols-2  h-[100svh]",children:[e.jsx("div",{className:"w-[10rem] mx-[2rem]",children:e.jsx("img",{src:b,alt:"SailLogo"})}),e.jsxs("div",{className:"  justify-center m-auto my-[4rem] items-center bg-white w-[25rem]",children:[e.jsx("div",{className:"text-center  text-2xl font-bold",children:e.jsx("h1",{children:"Sign In"})}),e.jsx("div",{className:"block justify-center items-center flex-col  h-80 mt-10 ",children:e.jsx("div",{className:"ml-[1.4rem]",children:e.jsx(c,{layout:"vertical",onFinish:f,initialValues:d,children:e.jsxs(w,{children:[e.jsx(n,{span:24,children:e.jsx(c.Item,{name:"email",rules:[{required:!0,message:"Please input your Email Address!"}],children:e.jsx(g,{onChange:m,name:"email",type:"email",id:"email",placeholder:"Email Address",className:"py-3"})})}),e.jsx(n,{span:24,children:e.jsx(c.Item,{name:"password",rules:[{required:!0,message:"Please input your password!"}],children:e.jsx(g.Password,{onChange:m,name:"password",placeholder:"Password",type:"text",id:"password",className:"py-3"})})}),e.jsx(p,{to:"/forgotPassword",className:"text-sm font-normal mb-2 pl-[1rem] text-[#75C2F6]",children:e.jsx("h6",{children:"Forgot password?"})}),e.jsx(n,{span:24,children:e.jsx(u,{loading:x,type:"primary",htmlType:"submit",className:"bg-[#134c98] flex items-center justify-center py-5",block:!0,children:"Sign In"})}),e.jsx(n,{span:24,children:e.jsx(p,{to:"/signup",children:e.jsx(u,{type:"primary",htmlType:"button",className:" greenHover bg-green-600 hover:!bg-green-500 !important mt-10 flex items-center  text-[1.3rem] justify-center py-5 ",block:!0,children:"Create new account"})})})]})})})})]})]})};export{C as default};
